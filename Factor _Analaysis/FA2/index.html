<!DOCTYPE html>
<html>
<head>
<style>
    /* Modern attractive styling */
    body {
        font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f9f9fa;
    }
    
    .report-container {
        background-color: white;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        padding: 30px;
        margin-bottom: 30px;
    }
    
    .header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 2px solid #eaeaea;
    }
    
    h1 {
        color: #2c3e50;
        font-size: 2.5em;
        margin-bottom: 10px;
    }
    
    .subtitle {
        color: #7f8c8d;
        font-size: 1.2em;
        margin-top: 0;
    }
    
    .summary-box {
        background-color: #f0f8ff;
        border-left: 5px solid #3498db;
        padding: 15px 20px;
        margin: 20px 0;
        border-radius: 5px;
    }
    
    .section-container {
        margin-bottom: 15px;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    }
    
    .section-header {
        background-color: #e8f4fd;
        color: #2c3e50;
        padding: 15px 20px;
        display: flex;
        font-weight: bold;
        font-size: 1.1em;
        border-left: 4px solid #3498db;
    }
    
    .section-icon {
        display: inline-block;
        width: 40px;
        height: 40px;
        background-color: #ecf0f1;
        border-radius: 50%;
        text-align: center;
        line-height: 40px;
        margin-right: 10px;
        color: #3498db;
    }
    
    .section-content {
        background-color: white;
        padding: 20px;
    }
    
    table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
        overflow: hidden;
        border-radius: 5px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
    }
    
    th, td {
        padding: 12px 15px;
        text-align: left;
        border-bottom: 1px solid #eee;
    }
    
    th {
        background-color: #f5f6fa;
        color: #2c3e50;
        font-weight: 600;
    }
    
    tr:nth-child(even) {
        background-color: #f9f9fd;
    }
    
    .highlight {
        font-weight: bold;
        color: #3498db;
    }
    
    .highlight-strong {
        font-weight: bold;
        color: #e74c3c;
    }
    
    .factor-group {
        background-color: #f8f9fa;
        padding: 15px;
        margin: 10px 0;
        border-radius: 6px;
        border-left: 4px solid #3498db;
    }
    
    .factor-1 {
        border-left-color: #3498db;
    }
    
    .factor-2 {
        border-left-color: #e74c3c;
    }
    
    .factor-3 {
        border-left-color: #2ecc71;
    }
    
    .factor-name {
        font-weight: bold;
        margin: 0 0 10px 0;
        font-size: 1.1em;
    }
    
    .factor-1 .factor-name {
        color: #3498db;
    }
    
    .factor-2 .factor-name {
        color: #e74c3c;
    }
    
    .factor-3 .factor-name {
        color: #2ecc71;
    }
    
    .factor-variables {
        padding-left: 20px;
    }
    
    .badge {
        display: inline-block;
        padding: 3px 10px;
        border-radius: 12px;
        font-size: 0.8em;
        color: white;
        margin-left: 5px;
    }
    
    .badge-good {
        background-color: #2ecc71;
    }
    
    .badge-excellent {
        background-color: #3498db;
    }
    
    .summary-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 15px;
        margin: 20px 0;
    }
    
    .summary-card {
        background-color: white;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        text-align: center;
    }
    
    .summary-card-title {
        font-size: 0.9em;
        color: #7f8c8d;
        margin-bottom: 5px;
    }
    
    .summary-card-value {
        font-size: 1.5em;
        font-weight: bold;
        color: #2c3e50;
    }
    
    .footer {
        text-align: center;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid #eee;
        color: #7f8c8d;
    }
    
    /* Progress Bar for variance explained */
    .progress-container {
        width: 100%;
        height: 30px;
        background-color: #ecf0f1;
        border-radius: 15px;
        margin: 15px 0;
        overflow: hidden;
        position: relative;
    }
    
    .progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #3498db 0%, #2ecc71 100%);
        border-radius: 15px;
        width: 62.4%;
        padding: 0 15px;
        display: flex;
        align-items: center;
        justify-content: flex-end;
        color: white;
        font-weight: bold;
    }
    
    /* Tooltip styling - simplified for Jupyter */
    .tooltip {
        position: relative;
        display: inline-block;
        border-bottom: 1px dotted #7f8c8d;
        margin-right: 5px;
    }
    
    /* For Jupyter compatibility, make tooltip always visible */
    .tooltip-text {
        display: inline-block;
        margin-left: 5px;
        font-size: 0.9em;
        color: #7f8c8d;
        font-style: italic;
    }
</style>
</head>
<body>
<div class="report-container">
    <div class="header">
        <h1>üìä Factor Analysis Report</h1>
        <p class="subtitle">Analysis of 329 observations across 9 variables</p>
    </div>
    
    <div class="summary-box">
        <h2>Executive Summary</h2>
        <p>Analysis identified <span class="highlight-strong">3 distinct factors</span> explaining <span class="highlight-strong">62.4%</span> of total variance in the 9-variable dataset.</p>
        <div class="summary-grid">
            <div class="summary-card">
                <div class="summary-card-title">KMO Value</div>
                <div class="summary-card-value">0.703</div>
            </div>
            <div class="summary-card">
                <div class="summary-card-title">Factors Retained</div>
                <div class="summary-card-value">3</div>
            </div>
            <div class="summary-card">
                <div class="summary-card-title">Variance Explained</div>
                <div class="summary-card-value">62.4%</div>
            </div>
            <div class="summary-card">
                <div class="summary-card-title">Sample Size</div>
                <div class="summary-card-value">329</div>
            </div>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üîç</span> 1. Data Preparation</span>
        </div>
        <div class="section-content">
            <ul>
                <li><span class="highlight">Initial Data:</span> 329 rows, 10 columns (including <code>id</code>)</li>
                <li><span class="highlight">Columns:</span> climate, housing, health, crime, trans, educate, arts, recreate, econ, id</li>
                <li><span class="highlight">Preprocessing:</span> Dropped <code>id</code> column</li>
                <li><span class="highlight">Missing Values:</span> None found</li>
                <li><span class="highlight">Final Dataset:</span> 329 rows √ó 9 columns</li>
            </ul>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üß™</span> 2. Suitability Tests</span>
        </div>
        <div class="section-content">
            <h3>Bartlett's Test of Sphericity</h3>
            <ul>
                <li><span class="highlight">Chi-square:</span> 839.43</li>
                <li><span class="highlight">p-value:</span> 5.99e-153 <span class="badge badge-good">‚úì</span></li>
                <li><span class="highlight">Conclusion:</span> Data is suitable for factor analysis</li>
            </ul>
            
            <h3>Kaiser-Meyer-Olkin (KMO) Test</h3>
            <ul>
                <li><span class="highlight">KMO:</span> 0.703 <span class="badge badge-good">‚úì</span></li>
                <li><span class="highlight">Conclusion:</span> Good sampling adequacy</li>
            </ul>
            
            <div class="tooltip">What is KMO?
                <span class="tooltip-text">Kaiser-Meyer-Olkin (KMO) measures sampling adequacy. Values > 0.7 indicate good factorability.</span>
            </div>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üìê</span> 3. Factor Determination</span>
        </div>
        <div class="section-content">
            <h3>Eigenvalues (Kaiser Criterion)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Factor</th>
                        <th>Eigenvalue</th>
                        <th>Retained</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>3.298</td>
                        <td><span class="highlight-strong">‚úì</span></td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>1.214</td>
                        <td><span class="highlight-strong">‚úì</span></td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>1.196</td>
                        <td><span class="highlight-strong">‚úì</span></td>
                    </tr>
                    <tr>
                        <td>4-9</td>
                        <td>< 1</td>
                        <td>‚úó</td>
                    </tr>
                </tbody>
            </table>
            <p>Scree plot shows an elbow at factor 4, confirming 3-factor retention.</p>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üìä</span> 4. Factor Loadings</span>
        </div>
        <div class="section-content">
            <h3>Factor Loadings Table</h3>
            <table>
                <thead>
                    <tr>
                        <th>Variable</th>
                        <th>Factor 1</th>
                        <th>Factor 2</th>
                        <th>Factor 3</th>
                        <th>Main Loading</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>climate</td>
                        <td>0.287</td>
                        <td>0.076</td>
                        <td class="highlight-strong">0.841</td>
                        <td>Factor 3</td>
                    </tr>
                    <tr>
                        <td>housing</td>
                        <td class="highlight-strong">0.698</td>
                        <td>0.153</td>
                        <td>0.084</td>
                        <td>Factor 1</td>
                    </tr>
                    <tr>
                        <td>health</td>
                        <td class="highlight-strong">0.744</td>
                        <td>-0.410</td>
                        <td>-0.020</td>
                        <td>Factor 1</td>
                    </tr>
                    <tr>
                        <td>crime</td>
                        <td>0.471</td>
                        <td class="highlight-strong">0.522</td>
                        <td>0.135</td>
                        <td>Factor 2</td>
                    </tr>
                    <tr>
                        <td>trans</td>
                        <td class="highlight-strong">0.681</td>
                        <td>-0.156</td>
                        <td>-0.148</td>
                        <td>Factor 1</td>
                    </tr>
                    <tr>
                        <td>educate</td>
                        <td>0.498</td>
                        <td class="highlight-strong">-0.498</td>
                        <td>-0.253</td>
                        <td>Factor 2</td>
                    </tr>
                    <tr>
                        <td>arts</td>
                        <td class="highlight-strong">0.860</td>
                        <td>-0.115</td>
                        <td>0.012</td>
                        <td>Factor 1</td>
                    </tr>
                    <tr>
                        <td>recreate</td>
                        <td class="highlight-strong">0.642</td>
                        <td>0.322</td>
                        <td>0.044</td>
                        <td>Factor 1</td>
                    </tr>
                    <tr>
                        <td>econ</td>
                        <td>0.298</td>
                        <td class="highlight-strong">0.595</td>
                        <td>-0.533</td>
                        <td>Factor 2</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Factor Groupings</h3>
            <div class="factor-group factor-1">
                <p class="factor-name">Factor 1: Quality of Life/Amenities</p>
                <div class="factor-variables">housing, health, trans, arts, recreate</div>
            </div>
            
            <div class="factor-group factor-2">
                <p class="factor-name">Factor 2: Socioeconomic</p>
                <div class="factor-variables">crime, educate, econ</div>
            </div>
            
            <div class="factor-group factor-3">
                <p class="factor-name">Factor 3: Climate</p>
                <div class="factor-variables">climate</div>
            </div>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üìà</span> 5. Communalities</span>
        </div>
        <div class="section-content">
            <table>
                <thead>
                    <tr>
                        <th>Variable</th>
                        <th>Communality</th>
                        <th>Interpretation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>climate</td>
                        <td>0.795</td>
                        <td><span class="badge badge-excellent">Excellent</span></td>
                    </tr>
                    <tr>
                        <td>housing</td>
                        <td>0.518</td>
                        <td><span class="badge badge-good">Good</span></td>
                    </tr>
                    <tr>
                        <td>health</td>
                        <td>0.722</td>
                        <td><span class="badge badge-excellent">Excellent</span></td>
                    </tr>
                    <tr>
                        <td>crime</td>
                        <td>0.512</td>
                        <td><span class="badge badge-good">Good</span></td>
                    </tr>
                    <tr>
                        <td>trans</td>
                        <td>0.510</td>
                        <td><span class="badge badge-good">Good</span></td>
                    </tr>
                    <tr>
                        <td>educate</td>
                        <td>0.610</td>
                        <td><span class="badge badge-good">Good</span></td>
                    </tr>
                    <tr>
                        <td>arts</td>
                        <td>0.754</td>
                        <td><span class="badge badge-excellent">Excellent</span></td>
                    </tr>
                    <tr>
                        <td>recreate</td>
                        <td>0.517</td>
                        <td><span class="badge badge-good">Good</span></td>
                    </tr>
                    <tr>
                        <td>econ</td>
                        <td>0.728</td>
                        <td><span class="badge badge-excellent">Excellent</span></td>
                    </tr>
                </tbody>
            </table>
            <p>Most communalities > 0.5, indicating good factor explanation of variable variance.</p>
            
            <div class="tooltip">What are communalities?
                <span class="tooltip-text">Communalities show how much of each variable's variance is explained by the extracted factors. Higher values indicate better explanation.</span>
            </div>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üìâ</span> 6. Variance Explained</span>
        </div>
        <div class="section-content">
            <table>
                <thead>
                    <tr>
                        <th>Factor</th>
                        <th>Variance</th>
                        <th>Proportional Var</th>
                        <th>Cumulative Var</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Factor 1</td>
                        <td>3.298</td>
                        <td>36.64%</td>
                        <td>36.64%</td>
                    </tr>
                    <tr>
                        <td>Factor 2</td>
                        <td>1.214</td>
                        <td>13.48%</td>
                        <td>50.12%</td>
                    </tr>
                    <tr>
                        <td>Factor 3</td>
                        <td>1.106</td>
                        <td>12.28%</td>
                        <td>62.40%</td>
                    </tr>
                </tbody>
            </table>
            
            <p><span class="highlight">Total Variance Explained:</span> 62.4%</p>
            
            <div class="progress-container">
                <div class="progress-bar">62.4%</div>
            </div>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üîß</span> 7. Practical Implications</span>
        </div>
        <div class="section-content">
            <ul>
                <li>Use factor scores for clustering or regression analysis.</li>
                <li><span class="highlight">Factor 1 (Quality of Life/Amenities):</span> Represents living conditions and cultural resources.</li>
                <li><span class="highlight">Factor 2 (Socioeconomic):</span> Encompasses safety, education, and economic conditions.</li>
                <li><span class="highlight">Factor 3 (Climate):</span> Represents environmental conditions.</li>
                <li>Consider factor rotation for clearer interpretation.</li>
            </ul>
        </div>
    </div>
    
    <div class="section-container">
        <div class="section-header">
            <span><span class="section-icon">üìã</span> 8. Summary Table</span>
        </div>
        <div class="section-content">
            <table>
                <thead>
                    <tr>
                        <th>Step</th>
                        <th>Result/Interpretation</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Data Suitability</td>
                        <td>Bartlett's p < 0.05, KMO = 0.703 (Good)</td>
                    </tr>
                    <tr>
                        <td>Factors Retained</td>
                        <td>3 (Eigenvalues > 1, Scree plot elbow)</td>
                    </tr>
                    <tr>
                        <td>Main Factor Themes</td>
                        <td>1: Quality of Life, 2: Socioeconomic, 3: Climate</td>
                    </tr>
                    <tr>
                        <td>Variance Explained</td>
                        <td>62.4% (by 3 factors)</td>
                    </tr>
                    <tr>
                        <td>Communalities</td>
                        <td>Most > 0.5 (factors explain most variable variance)</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="footer">
        <p>Factor Analysis Report ‚Ä¢ Created for Jupyter Notebook</p>
        <p><small>Note: This HTML is optimized for Jupyter markdown cells.</small></p>
    </div>
</div>
</body>
</html> 
